{"version":3,"names":["__toCommonJS","mod","__copyProps","__defProp","value","ToastViewport_exports","__export","ToastViewport","VIEWPORT_DEFAULT_HOTKEY","VIEWPORT_PAUSE","VIEWPORT_RESUME","module","exports","import_jsx_runtime","require","import_animate_presence","import_compose_refs","import_constants","import_core","import_portal","import_stacks","import_visually_hidden","React","__toESM","import_constants2","import_ToastPortal","import_ToastProvider","VIEWPORT_NAME","ToastViewportWrapperFrame","styled","YStack","name","variants","unstyled","false","pointerEvents","top","bottom","left","right","position","isWeb","maxWidth","tabIndex","zIndex","defaultVariants","process","env","TAMAGUI_HEADLESS","ToastViewportFrame","memo","forwardRef","props","forwardedRef","scope","hotkey","label","multipleToasts","portalToRoot","viewportProps","context","useToastProviderContext","getItems","useCollection","TOAST_CONTEXT","headFocusProxyRef","useRef","tailFocusProxyRef","wrapperRef","ref","onViewportChange","useCallback","el","viewports","composedRefs","useComposedRefs","hotkeyLabel","join","replace","hasToasts","toastCount","useEffect","handleKeyDown","event","_ref_current","isHotkeyPressed","every","key","code","current","focus","document","addEventListener","removeEventListener","wrapper","viewport","handlePause","isClosePausedRef","pauseEvent","CustomEvent","dispatchEvent","handleResume","resumeEvent","handleFocusOutResume","isFocusMovingOutside","contains","relatedTarget","handlePointerLeaveResume","isFocusInside","activeElement","window","getSortedTabbableCandidates","param","tabbingDirection","toastItems","tabbableCandidates","map","toastItem","toastNode","toastTabbableCandidates","getTabbableCandidates","reverse","flat","isMetaKey","altKey","ctrlKey","metaKey","isTabKey","focusedElement","isTabbingBackwards","shiftKey","targetIsViewport","target","_headFocusProxyRef_current","sortedCandidates","index","findIndex","candidate","focusFirst","slice","preventDefault","_headFocusProxyRef_current1","_tailFocusProxyRef_current","contents","jsxs","role","children","jsx","FocusProxy","viewportName","onFocusFromOutsideViewport","Collection","Slot","toastScope","focusable","PortalHost","render","AnimatePresence","exitBeforeEnter","ToastPortal","displayName","FOCUS_PROXY_NAME","proxyProps","VisuallyHidden","onFocus","prevFocusedElement","isFocusFromOutsideViewport","candidates","previouslyFocusedElement","some","container","containerHtml","nodes","walker","createTreeWalker","NodeFilter","SHOW_ELEMENT"],"sources":["../../src/ToastViewport.tsx"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBAAA;EAAAA,YAAA,GAAAC,GAAA,IAAAC,WAAA,CAAAC,SAAA;IAAAC,KAAA;EAAA,IAAAH,GAAA;AAAA,IAAAI,qBAAA;AAAAC,QAAA,CAAAD,qBAAA;EAAAE,aAAA,EAAAA,CAAA,KAAAA,aAAA;EAAAC,uBAAA,EAAAA,CAAA,KAAAA,uBAAA;EAAAC,cAAA,EAAAA,CAAA,KAAAA,cAAA;EAAAC,eAAA,EAAAA,CAAA,KAAAA;AAAA;AAAAC,MAAA,CAAAC,OAAA,GAAAZ,YAAA,CAAgCK,qBAAA;AAchC,IAAAQ,kBAAsB,GAAAC,OAAA,oBAChB;EAAAC,uBACA,GAAAD,OAAA,4BACA;EAAAE,mBAAkB,GAAAF,OAAA,wBAElB;EAAAG,gBAA4B,GAAAH,OAAA,qBAAO;EAAAI,WAAQ,GAAAJ,OAAA;EAAAK,aAAA,GAAAL,OAAA;EAAAM,aAAA,GAAAN,OAAA;EAAAO,sBAAA,GAAAP,OAAA;EAAAQ,KAAA,GAAAC,OAAA,CAAAT,OAAA;EAAAU,iBAAA,GAAAV,OAAA;EAAAW,kBAAA,GAAAX,OAAA;EAAAY,oBAAA,GAAAZ,OAAA;EAAAa,aAAA;EAAAnB,uBAAA,IAC/C,KAAM;EAENC,cAAU;EAAAC,eAAA;EAAAkB,yBAAA,OAAAV,WAAA,CAAAW,MAAA,EAAAT,aAAA,CAAAU,MAAA;IAAAC,IACR,mBAAU;IAAAC,QACR;MAAOC,QACL;QAAeC,KACf,EAAK;UACLC,aAAQ;UACRC,GAAA,GAAM;UACNC,MAAA,EAAO;UACPC,IAAA;UACAC,KAAA;UACAC,QAAA,EAAUvB,gBAAA,CAAAwB,KAAA;UACVC,QAAQ;UACVC,QAAA;UACFC,MAAA;QACF;MAEA;IAAiB;IAEjBC,eAAA;MAGIZ,QAAA,EAAAa,OAAA,CAAAC,GAAA,CAAAC,gBAAqB;IACzB;EAAM,EAEN;EAAAC,kBAAU,OAAA/B,WAAA,CAAAW,MAAA,EAAAT,aAAA,CAAAU,MAAA;IAAAC,IACR,EAAAJ,aAAU;IAAAK,QACR;MAAOC,QACL;QAAeC,KACf;UACAC,aAAU;UACZK,QAAA,EAAAvB,gBAAA,CAAAwB,KAAA;UACFC,QAAA;QACF;MAEA;IAAiB;IAEjBG,eAAA;MA8BIZ,QAAA,EAAAa,OAAgB,CAAAC,GAAA,CAAMC,gBAAA;IAC1B;EAAM;EACJzC,aAAyC,kBAAiBe,KAAA,CAAA4B,IAAA,gBAAA5B,KAAA,CAAA6B,UAAA,WAAAC,KAAA,EAAAC,YAAA;IACxD;QAAAC,KAAM;QAAAC,MAAA,GAAA/C,uBAAA;QAAAgD,KAAA;QAAAzB,IAAA;QAAA0B,cAAA;QAAAb,MAAA;QAAAc,YAAA;QAAA,GAAAC;MAAA,IAAAP,KAAA;MAAAQ,OAAA,OAAAlC,oBAAA,CAAAmC,uBAAA,EAAAP,KAAA;MAAAQ,QAAA,OAAApC,oBAAA,CAAAqC,aAAA,EAAAT,KAAA,IAAA9B,iBAAA,CAAAwC,aAAA;MAAAC,iBAAA,GAAA3C,KAAA,CAAA4C,MAAA;MAAAC,iBAAA,GAAA7C,KAAA,CAAA4C,MAAA;MAAAE,UAAA,GAAA9C,KAAA,CAAA4C,MAAA;MAAAG,GAAA,GAAA/C,KAAA,CAAA4C,MAAA;MAAAI,gBAAA,GAAAhD,KAAA,CAAAiD,WAAA,WAAAC,EAAA;QAAAZ,OACJ,CAAAa,SAAA,CAAA1C,IAAA,MAAAyC,EAAA,IAAAZ,OAAA,CAAAU,gBAAA,CAAAvC,IAAA,EAAAyC,EAAA;MAAA,IACSzC,IACT,EAAQ6B,OACR,CAAAa,SAAO;MAAAC,YACP,OAAA1D,mBAAA,CAAA2D,eAAA,EAAAtB,YAAA,EAAAgB,GAAA,EAAAC,gBAAA;MAAAM,WAAA,GAAArB,MAAA,CAAAsB,IAAA,MAAAC,OAAA,aAAAA,OAAA;MAAAC,SAAA,GAAAnB,OAAA,CAAAoB,UAAA;IAAA1D,KAAA,CACA2D,SAAA;MAAA,IACAhE,gBAAA,CAAAwB,KAAA,IAAAmB,OAAA,CAAAoB,UAAA;QAAA,IACAE,aAAG,YAAAA,CAAAC,KAAA;UACL,IAAIC,YACE;YAAAC,eAAU,GAAA9B,MAAA,CAAA+B,KAAA,WAAAC,GAAA;cAOb,OAAuBJ,KAAA,CAAAI,GAAA,KAAAJ,KAAA,CAAAK,IAAA,KAAAD,GAAA;YACtB,EAAI;UACNF,eAAA,MAAAD,YAAA,GAAAf,GAAA,CAAAoB,OAAA,cAAAL,YAAA,eAAAA,YAAA,CAAAM,KAAA;QAAA;QAEF,OAEMC,QAAA,CAAAC,gBAAe,YAAAV,aAAA,GAAgB;UAIrCS,QAAM,CAAAE,mBAAgB,YAAAX,aAAA;QAEpB;MACA;IAME,IAH+B3B,MAAA,EACkBK,OACjD,CAAAoB,UACyB,CAAe,GAAA1D,KAC1C,CAAA2D,SAAA;MACA,IAAAhE,gBAAS,CAAAwB,KAAA,IAAAmB,OAAiB,CAAAoB,UAAW;QAEnC,IAAAc,OAAA,GAAS1B,UAAA,CAAAqB,OAAA;UAAoBM,QAAA,GAAW1B,GAAA,CAAAoB,OAAA;QAAa,IACvDV,SAAA,IAAAe,OAAA,IAAAC,QAAA;UACF,IAAIC,WAAQ,GAAQ,SAAAA,CAAA,EAAW;cAI7B,IADK,CAAApC,OAAA,CAAAqC,gBACD,CAAAR,OAAQ;gBACZ,IAAMS,UAAU,OAAAC,WACV,CAAA1F,cAAe;gBACjBsF,QAAA,CAAAK,aAAa,CAAAF,UAAW,CAAU,EAAAtC,OAAA,CAAAqC,gBAAA,CAAAR,OAAA;cACpC;YACE;YAAAY,YAAK,GAAQ,SAAAA,CAAA;cACX,IAAAzC,OAAM,CAAAqC,gBAAiB,CAAAR,OAAA;gBACvB,IAAAa,WAAS,OAAAH,WAAc,CAAAzF,eACf;gBACVqF,QAAA,CAAAK,aAAA,CAAAE,WAAA,GAAA1C,OAAA,CAAAqC,gBAAA,CAAAR,OAAA;cACF;YAGE;YAAAc,oBAAY,YAAAA,CAAiBpB,KAAA,EAAS;cACpC,IAAAqB,oBAAoB,IAAIV,OAAA,CAAAW,QAAY,CAAAtB,KAAA,CAAAuB,aAAe;cACnDF,oBAAS,IAAAH,YAAc,EAAW;YACC;YAAAM,wBACrC,YAAAA,CAAA;cACF,IAEMC,aAAA,GAAAd,OAAwB,CAAAW,QAAA,CAAsBd,QAAA,CAAAkB,aAAA;cAIlDD,aAHsC,IAAAP,YAAA;YAAA;UAC9B,OACRP,OAC0B,CAAAF,gBAAa,YAAAI,WAAA,GAAAF,OAAA,CAAAF,gBAAA,aAAAW,oBAAA,GAAAT,OAAA,CAAAF,gBAAA,gBAAAI,WAAA,GAAAF,OAAA,CAAAF,gBAAA,iBAAAe,wBAAA,GAAAG,MAAA,CAAAlB,gBAAA,SAAAI,WAAA,GAAAc,MAAA,CAAAlB,gBAAA,UAAAS,YAAA;YACzCP,OAEM,CAAAD,mBAAA,UAAiC,EAAAG,WAAA,GAAAF,OAAA,CAAAD,mBAAA,aAAAU,oBAAA,GAAAT,OAAA,CAAAD,mBAAA,gBAAAG,WAAA,GAAAF,OAAA,CAAAD,mBAAA,iBAAAc,wBAAA,GAAAG,MAAA,CAAAjB,mBAAA,SAAAG,WAAA,GAAAc,MAAA,CAAAjB,mBAAA,UAAAQ,YAAA;UAErC;QAAiC;MAInC;IAOE,IAKgDtB,SAClD,EAAAnB,OACF,CAAAqC,gBAAA,EAAArC,OACE,CAAAoB,UAAW,CAEf;IAA0C,IAAA+B,2BACpB,GAAsDzF,KAAA,CAAAiD,WAAA,WAAAyC,KAAA;MAExE;UAAAC;QAAM,IAAAD,KAAA;QADaE,UACmB,GAAApD,QAAK;QAAAqD,kBAAc,GAAAD,UAAA,CAAAE,GAAA,WAAAC,SAAA;UACvD,IAAAC,SAAM,GAAAD,SAAY,CAAAhD,GAAA,CAAAoB,OAAU;YAAI8B,uBAC1B,IAA0BD,SAC9B,KAAAE,qBACG,CAAAF,SAAsB,EAAS;UAEpC,OAAAL,gBAAO,eAAqB,GAAAM,uBACxB,GAAAA,uBACA,CAAAE,OAAwB;QAAQ;MAEtC,QAAAR,gBACE,eAAqB,GAAAE,kBACjB,CAAAM,OAAmB,KAAAN,kBACnB,EAAAO,IAAA,EACJ;IAAK,IACT5D,QACC,CAAQ;IAGXxC,KAAA,CAAA2D,SAAM,aAAgB;MAEpB,IAAAhE,gBADK,CAAAwB,KAAA,IAAAmB,OACD,CAAAoB,UAAQ;QAEZ,IAAAe,QAAM,GAAA1B,GAAA,CAAWoB,OAAI;QAIrB,IAAAM,QAAI;UACF,IAAAb,aAAM,YAAAA,CAAiBC,KAAA,EAAyB;YAC9C,IAAAwC,SAAM,GAAAxC,KAAY,CAAAyC,MAAM,IAAAzC,KAAU,CAAA0C,OAAM,IAAA1C,KAAW,CAAA2C,OAAM;cAAAC,QAAA,GAAA5C,KAAA,CAAAI,GAAA,eAAAoC,SAAA;YAGzD,IAAAI,QAFuB;cAGrB,IAAAC,cAAM,GAAArC,QAAiB,CAAAkB,aAAS;gBAAAoB,kBAC1B,GAAA9C,KAAqB,CAAA+C,QAAM;gBAAAC,gBAAA,GAAAhD,KAAA,CAAAiD,MAAA,KAAArC,QAAA;cAKjC,IAAAoC,gBAJ+B,IAAWF,kBAIlB;gBAEtB,IAAAI,0BAA2B;gBAC3B,CAAAA,0BAAA,GAAApE,iBAAA,CAAAwB,OAAA,cAAA4C,0BAAA,eAAAA,0BAAA,CAAA3C,KAAA;gBACF;cAGA;cAC+B,IAC7BuB,gBAAe,GAAAgB,kBAAc;gBAAAK,gBAAA,GAAAvB,2BAAA;kBAC/BE;gBACA,EAAI;gBAAAsB,KAAA,GAAAD,gBAAW,CAAAE,SAAuB,WAAUC,SACxC;kBAKN,OAAAA,SAAA,KAAAT,cAAA;gBAAA;cAEqC,IAAAU,UAAA,CAAAJ,gBAAA,CAAAK,KAAA,CAAAJ,KAAA,QAAApD,KAAA,CAAAyD,cAAA,QAEjC;gBAAiC,IAAAC,2BAAA,EAAAC,0BAAA;gBAEzCb,kBAAA,IAAAY,2BAAA,GAAA5E,iBAAA,CAAAwB,OAAA,cAAAoD,2BAAA,eAAAA,2BAAA,CAAAnD,KAAA,MAAAoD,0BAAA,GAAA3E,iBAAA,CAAAsB,OAAA,cAAAqD,0BAAA,eAAAA,0BAAA,CAAApD,KAAA;cACF;YAGA;UAEF;UACF,OAAIK,QAAU,CAAAH,gBAAA,UAA6B,EAAAV,aAAQ,GAAW;YAE9D,OAAMa,QACJ,CAAAF,mBAAA,YAAAX,aAAA;UAAC;QAAA;MAAA;IACM,IAEApB,QACL,EAAiDiD,2BAEvC,EAAAnD,OAKT,CAAAoB,UAAA;IACC,IAAA+D,QAAC,sBAAAlI,kBAAA,CAAAmI,IAAA,EAAApH,yBAAA;MAAAyC,GAAA,EAAAD,UAAA;MAAA;MACC6E,IAAA,UACA;MAAc,YACd,EAAAzF,KAAK,CAAAsB,OAAA,aAAAF,WAAA;MAAA;MAEHjC,QAAA;MAAuDuG,QAAA;MACnC;MAEpB;MAA6B;MAC/BnE,SAAA,uBAAAlE,kBAAA,CAAAsI,GAAA,EAAAC,UAAA;QAAAxF,OACF;QAAAyF,YAMF,EAAAtH,IAAA;QACEsC,GAAA,EAAAJ,iBAAC;QAAAqF,0BAAA,WAAAA,CAAA;UAAA,IAAAnC,kBACY,GAAQJ,2BAAa;YAAAE,gBAC3B;UAAA;UACDyB,UAEJ,CAAAvB,kBAAA;QAAA;MAAC;MAAA;AAIG;AAEY;AAAA;MAChB;MAAA,IAAAtG,kBAAA,CAAAsI,GAAA,EAAAzH,oBAAA,CAAA6H,UAAA,CAAAC,IAAA;QAAAlG,KACF,EACFM,OAAA,CAAA6F,UAAA;QAAAP,QACC,iBACC,IAAArI,kBAAA,CAAAsI,GAAA,EAAAlG,kBAAA;UAAAyG,SAAC,EAAA9F,OAAA,CAAAoB,UAAA;UAAAX,GAAA,EAAAK,YAAA;UAAA,GAAAf,aACC;UAAAuF,QACA,iBAAc,IAAArI,kBAAA,CAAAsI,GAAA,EAAAhI,aAAA,CAAAwI,UAAA;YAAAC,MACd,WAAAA,CAAKV,QAAA;cAAA,OACL,mBAAArI,kBAAkC,CAAAsI,GAAA,EAAApI,uBAAA,CAAA8I,eAAA;gBAChCC,eAAM,GAAArG,cAAqB;gBAA4ByF;cACnC;YAEpB;YAA6BnH,IAC/B,EAAAA,IAAA;UAAA;QAAA;MACF,IAAAgD,SAAA,uBAAAlE,kBAAA,CAAAsI,GAAA,EAAAC,UAAA;QAEJxF,OAAA;QAGFyF,YAAI,EAAAtH,IAAA;QAECsC,GAAA,EAAAF,iBAAA;QAAAmF,0BAAA,WAAAA,CAAA;UACC,IAAAnC,kBAAA,GAAAJ,2BAAA;YACCE,gBAAW,EAAW;UAEtB;UAAAyB,UAAA,CAAAvB,kBAAA;QACH;MAKN;IAEJ;IAEA,OAAAzD,YAAc,kBAAc,IAAA7C,kBAAA,CAAAsI,GAAA,EAAA1H,kBAAA,CAAAsI,WAAA;MAI5BnG,OAAM;MAaH,WAAOhB,MAAA,YAAiB;QACvBA;MAGA;MACEsG,QAAC,EAAAH;IAAA,KAAAA,QAAA;EAAA;AACYxI,aACX,CAAAyJ,WAAU,GAAArI,aAAA;AAAA,IAAAsI,gBACN;EAAAb,UAAA,kBAAA9H,KAAA,CAAA6B,UAAA,WAAAC,KAAA,EAAAC,YAAA;IAAA;QACJiG,0BAAK;QAAAD,YAAA;QAAAzF,OAAA;QAAA,GAAAsG;MAAA,IAAA9G,KAAA;MAAA2C,QAAA,GAAAnC,OAAA,CAAAa,SAAA,CAAA4E,YAAA;IAAA,OAEL,eAAU,IAAAxI,kBAAS,CAAAsI,GAAA,EAAkB9H,sBAAA,CAAA8I,cAAA;MAAA,aAC5B,EAAC;MACRxH,QAAA,EAAI,CAAC;MACL,GAAAuH,UAAM;MAEN7F,GAAA,EAAAhB,YAD8C;MACa;MAC7Db,QAAA,EAAAvB,gBAAA,CAAAwB,KAAA;MACF2H,OAAA,WAAAA,CAAAjF,KAAA;QAEJ,IAAAlE,gBAAA,CAAAwB,KAAA;UACF,IAAA4H,kBAAA,GAAAlF,KAAA,CAAAuB,aAAA;YAAA4D,0BAAA,IAAAvE,QAAA,EAAAU,QAAA,CAAA4D,kBAAA;UAEAC,0BAAyB,IAAAhB,0BAAA;QAIzB;MACE;IACA;EACA;AAMFF,UAAA,CAAAY,WAAA,GAAAC,gBAAA;AAYA,SAASvB,WAAA6B,UAAA,EAAsB;EAC7B,IAAItJ,gBAAC,CAAAwB,KAAA,EAAO;IACZ,IAAM+H,wBAAgB,GAChB7E,QAAuB,CAACkB,aACf;IACb,OAAA0D,UAAa,CAAAE,IAAc,WAAAhC,SAAA;MACzB,OAAMA,SAAA,KAAA+B,wBAAiC,KAAW,IAAA/B,SAAK,CAAS/C,KAAA,IAAAC,QAAA,CAAAkB,aAAA,KAAA2D,wBAAA;IAChE;EAIkE;AACpE;AAEF,SAAOhD,qBAAmBA,CAAAkD,SAAM,EAAK;EAGrC,KAAAzJ,gBAAO,CAAAwB,KAAA;EACT,SAAAkI,aAAA,GAAAD,SAAA,EAAAE,KAAA,OAAAC,MAAA,GAAAlF,QAAA,CAAAmF,gBAAA,CAAAH,aAAA,EAAAI,UAAA,CAAAC,YAAA","ignoreList":[]}